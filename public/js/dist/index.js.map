{"mappings":"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","sources":["<anon>","public/js/index.js","public/js/login.js","public/js/alert.js","public/js/mapbox.js","public/js/updateSettings.js","public/js/stripe.js"],"sourcesContent":["require(\"@babel/polyfill\");\nvar $97uIT$axios = require(\"axios\");\n\n\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\n\nconst $5ffba592d2f96c22$export$de026b00723010c1 = (type, msg)=>{\n    $5ffba592d2f96c22$export$516836c6a9dfc573();\n    const markup = `<div class=\"alert alert--${type}\">${msg}</div>`;\n    document.querySelector(\"body\").insertAdjacentHTML(\"afterbegin\", markup);\n    window.setTimeout($5ffba592d2f96c22$export$516836c6a9dfc573, 5000);\n};\nconst $5ffba592d2f96c22$export$516836c6a9dfc573 = ()=>{\n    const el = document.querySelector(\".alert\");\n    if (el) el.parentElement.removeChild(el);\n};\n\n\nconst $ae7cab5b221f05ea$export$596d806903d1f59e = async (email, password)=>{\n    try {\n        const res = await (0, ($parcel$interopDefault($97uIT$axios)))({\n            method: \"POST\",\n            url: \"/api/v1/users/login\",\n            data: {\n                email: email,\n                password: password\n            }\n        });\n        if (res.data.status === \"success\") {\n            (0, $5ffba592d2f96c22$export$de026b00723010c1)(\"success\", \"Logged in successfully!\");\n            window.setTimeout(()=>{\n                location.assign(\"/\");\n            }, 500);\n        }\n    } catch (err) {\n        (0, $5ffba592d2f96c22$export$de026b00723010c1)(\"error\", err.response.data.message);\n    }\n};\nconst $ae7cab5b221f05ea$export$a0973bcfe11b05c9 = async ()=>{\n    try {\n        const res = await (0, ($parcel$interopDefault($97uIT$axios)))({\n            method: \"GET\",\n            url: \"/api/v1/users/logout\"\n        });\n        if (res.data.status === \"success\") location.reload();\n    } catch (error) {\n        (0, $5ffba592d2f96c22$export$de026b00723010c1)(\"error\", \"Error logging out! Try again.\");\n    }\n};\n\n\nconst $0e92a0521d193c20$export$4c5dd147b21b9176 = (locations)=>{\n    const map = L.map(\"map\", {\n        zoomControl: false,\n        dragging: false,\n        touchZoom: false,\n        doubleClickZoom: false,\n        scrollWheelZoom: false\n    }).setView([\n        42.3601,\n        -71.0589\n    ], 10);\n    const icon = L.icon({\n        iconUrl: \"/img/pin.png\",\n        iconSize: [\n            30,\n            37\n        ],\n        iconAnchor: [\n            15,\n            30\n        ],\n        popupAnchor: [\n            0,\n            -30\n        ]\n    });\n    L.tileLayer(\"https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.{ext}\", {\n        minZoom: 0,\n        maxZoom: 20,\n        attribution: '&copy; <a href=\"https://www.stadiamaps.com/\" target=\"_blank\">Stadia Maps</a> &copy; <a href=\"https://openmaptiles.org/\" target=\"_blank\">OpenMapTiles</a> &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n        ext: \"png\"\n    }).addTo(map);\n    L.control.zoom({\n        position: \"bottomleft\"\n    }).addTo(map);\n    let group = L.featureGroup();\n    for (let location of locations){\n        let marker = L.marker([\n            location.coordinates[1],\n            location.coordinates[0]\n        ], {\n            icon: icon\n        }).addTo(map).bindPopup(L.popup({\n            maxWidth: 250,\n            minWidth: 100,\n            autoClose: false,\n            closeOnClick: false\n        }).setContent(`Day ${location.day}: ${location.description}`));\n        marker.openPopup();\n        group.addLayer(marker);\n    }\n    map.fitBounds(group.getBounds(), {\n        padding: [\n            100,\n            100\n        ]\n    });\n};\n\n\n\n\nasync function $1aa233ef60e9c86a$export$3bf0495508a61ee(name, email) {\n    try {\n        const res = await (0, ($parcel$interopDefault($97uIT$axios)))({\n            method: \"PATCH\",\n            url: \"/api/v1/users/updateMe\",\n            data: {\n                name: name,\n                email: email\n            }\n        });\n        if (res.data.status === \"success\") (0, $5ffba592d2f96c22$export$de026b00723010c1)(\"success\", `Data updated successfully!`);\n    } catch (error) {\n        (0, $5ffba592d2f96c22$export$de026b00723010c1)(\"error\", error);\n    }\n}\nconst $1aa233ef60e9c86a$export$f558026a994b6051 = async (data, type)=>{\n    try {\n        const url = type === \"password\" ? \"/api/v1/users/update-password\" : \"/api/v1/users/update-me\";\n        const res = await (0, ($parcel$interopDefault($97uIT$axios)))({\n            method: \"PATCH\",\n            url: url,\n            data: data\n        });\n        if (res.data.status === \"success\") (0, $5ffba592d2f96c22$export$de026b00723010c1)(\"success\", `${type.toUpperCase()} updated successfully!`);\n    } catch (error) {\n        (0, $5ffba592d2f96c22$export$de026b00723010c1)(\"error\", error);\n    }\n};\n\n\n\n\nconst $02b9e06783db90b5$var$stripe = Stripe(\"pk_test_51OuQHbHSNc0C8r7cxeNEfdZ8OiAuiJOlM3nKeMk0HZMQYHqBgOqJHcrbseBzSYAG2bmZR8QigWiOVgA3RaGp5Fwo001ls1jc3Y\");\nconst $02b9e06783db90b5$export$8d5bdbf26681c0c2 = async (tourId)=>{\n    try {\n        const session = await (0, ($parcel$interopDefault($97uIT$axios)))(`/api/v1/bookings/checkout-session/${tourId}`);\n        await $02b9e06783db90b5$var$stripe.redirectToCheckout({\n            sessionId: session.data.session.id\n        });\n    } catch (error) {\n        (0, $5ffba592d2f96c22$export$de026b00723010c1)(\"error\", error);\n    }\n};\n\n\nconst $8edeaf384d9f5916$var$loginForm = document.querySelector(\".form-login\");\nconst $8edeaf384d9f5916$var$logoutBtn = document.querySelector(\".nav__el--logout\");\nconst $8edeaf384d9f5916$var$userDataForm = document.querySelector(\".form-user-data\");\nconst $8edeaf384d9f5916$var$passwordForm = document.querySelector(\".form-user-password\");\nconst $8edeaf384d9f5916$var$bookBtn = document.getElementById(\"book-tour\");\nif ($8edeaf384d9f5916$var$loginForm) $8edeaf384d9f5916$var$loginForm.addEventListener(\"submit\", (e)=>{\n    const password = document.getElementById(\"password\").value;\n    const email = document.getElementById(\"email\").value;\n    e.preventDefault();\n    (0, $ae7cab5b221f05ea$export$596d806903d1f59e)(email, password);\n});\nconst $8edeaf384d9f5916$var$map = document.querySelector(\"#map\");\nif ($8edeaf384d9f5916$var$map) {\n    const locations = JSON.parse($8edeaf384d9f5916$var$map.dataset.locations);\n    (0, $0e92a0521d193c20$export$4c5dd147b21b9176)(locations);\n}\nif ($8edeaf384d9f5916$var$logoutBtn) $8edeaf384d9f5916$var$logoutBtn.addEventListener(\"click\", (0, $ae7cab5b221f05ea$export$a0973bcfe11b05c9));\nif ($8edeaf384d9f5916$var$userDataForm) $8edeaf384d9f5916$var$userDataForm.addEventListener(\"submit\", (e)=>{\n    e.preventDefault();\n    const form = new FormData();\n    form.append(\"name\", document.getElementById(\"name\").value);\n    form.append(\"email\", document.getElementById(\"email\").value);\n    form.append(\"photo\", document.getElementById(\"photo\").files[0]);\n    (0, $1aa233ef60e9c86a$export$f558026a994b6051)(form, \"data\");\n});\nif ($8edeaf384d9f5916$var$passwordForm) $8edeaf384d9f5916$var$passwordForm.addEventListener(\"submit\", async (e)=>{\n    e.preventDefault();\n    document.querySelector(\".btn--save-password\").textContent = \"Updating...\";\n    const passwordCurrent = document.getElementById(\"password-current\").value;\n    const password = document.getElementById(\"password\").value;\n    const passwordConfirm = document.getElementById(\"password-confirm\").value;\n    await (0, $1aa233ef60e9c86a$export$f558026a994b6051)({\n        passwordCurrent: passwordCurrent,\n        password: password,\n        passwordConfirm: passwordConfirm\n    }, \"password\");\n    document.querySelector(\".btn--save-password\").textContent = \"Save password\";\n    document.getElementById(\"password-current\").value = \"\";\n    document.getElementById(\"password\").value = \"\";\n    document.getElementById(\"password-confirm\").value = \"\";\n});\nif ($8edeaf384d9f5916$var$bookBtn) $8edeaf384d9f5916$var$bookBtn.addEventListener(\"click\", (e)=>{\n    e.target.textContent = \"Processing...\";\n    const { tourId: tourId } = e.target.dataset;\n    (0, $02b9e06783db90b5$export$8d5bdbf26681c0c2)(tourId);\n});\n\n\n//# sourceMappingURL=index.js.map\n","import '@babel/polyfill'\r\nimport { login, logout } from './login.js'\r\nimport { displayMap } from './mapbox.js'\r\nimport { updateSettings } from './updateSettings.js'\r\nimport { bookTour } from './stripe.js'\r\nconst loginForm = document.querySelector('.form-login')\r\nconst logoutBtn = document.querySelector('.nav__el--logout')\r\nconst userDataForm = document.querySelector('.form-user-data')\r\nconst passwordForm = document.querySelector('.form-user-password')\r\nconst bookBtn = document.getElementById('book-tour')\r\nif (loginForm) {\r\n   loginForm.addEventListener('submit', e => {\r\n      const password = document.getElementById('password').value\r\n      const email = document.getElementById('email').value\r\n      e.preventDefault()\r\n      login(email, password)\r\n   })\r\n}\r\nconst map = document.querySelector('#map')\r\nif (map) {\r\n   const locations = JSON.parse(map.dataset.locations)\r\n   displayMap(locations)\r\n}\r\n\r\nif (logoutBtn) logoutBtn.addEventListener('click', logout)\r\n\r\nif (userDataForm)\r\n   userDataForm.addEventListener('submit', e => {\r\n      e.preventDefault()\r\n      const form = new FormData()\r\n      form.append('name', document.getElementById('name').value)\r\n      form.append('email', document.getElementById('email').value)\r\n      form.append('photo', document.getElementById('photo').files[0])\r\n      updateSettings(form, 'data')\r\n   })\r\n\r\nif (passwordForm) {\r\n   passwordForm.addEventListener('submit', async e => {\r\n      e.preventDefault()\r\n      document.querySelector('.btn--save-password').textContent = 'Updating...'\r\n      const passwordCurrent = document.getElementById('password-current').value\r\n      const password = document.getElementById('password').value\r\n      const passwordConfirm = document.getElementById('password-confirm').value\r\n      await updateSettings(\r\n         { passwordCurrent, password, passwordConfirm },\r\n         'password'\r\n      )\r\n      document.querySelector('.btn--save-password').textContent =\r\n         'Save password'\r\n      document.getElementById('password-current').value = ''\r\n      document.getElementById('password').value = ''\r\n      document.getElementById('password-confirm').value = ''\r\n   })\r\n}\r\n\r\nif (bookBtn)\r\n   bookBtn.addEventListener('click', e => {\r\n      e.target.textContent = 'Processing...'\r\n      const { tourId } = e.target.dataset\r\n      bookTour(tourId)\r\n   })\r\n","import axios from 'axios'\r\nimport { showAlert } from './alert'\r\nexport const login = async (email, password) => {\r\n   try {\r\n      const res = await axios({\r\n         method: 'POST',\r\n         url: '/api/v1/users/login',\r\n         data: {\r\n            email,\r\n            password,\r\n         },\r\n      })\r\n      if (res.data.status === 'success') {\r\n         showAlert('success', 'Logged in successfully!')\r\n         window.setTimeout(() => {\r\n            location.assign('/')\r\n         }, 500)\r\n      }\r\n   } catch (err) {\r\n      showAlert('error', err.response.data.message)\r\n   }\r\n}\r\n\r\nexport const logout = async () => {\r\n   try {\r\n      const res = await axios({\r\n         method: 'GET',\r\n         url: '/api/v1/users/logout',\r\n      })\r\n      if (res.data.status === 'success') location.reload()\r\n   } catch (error) {\r\n      showAlert('error', 'Error logging out! Try again.')\r\n   }\r\n}\r\n","export const showAlert = (type, msg) => {\r\n   hideAlert()\r\n   const markup = `<div class=\"alert alert--${type}\">${msg}</div>`\r\n   document.querySelector('body').insertAdjacentHTML('afterbegin', markup)\r\n   window.setTimeout(hideAlert, 5000)\r\n}\r\nexport const hideAlert = () => {\r\n   const el = document.querySelector('.alert')\r\n   if (el) el.parentElement.removeChild(el)\r\n}\r\n","export const displayMap = locations => {\r\n   const map = L.map('map', {\r\n      zoomControl: false,\r\n      dragging: false,\r\n      touchZoom: false,\r\n      doubleClickZoom: false,\r\n      scrollWheelZoom: false,\r\n   }).setView([42.3601, -71.0589], 10)\r\n   const icon = L.icon({\r\n      iconUrl: '/img/pin.png',\r\n      iconSize: [30, 37],\r\n      iconAnchor: [15, 30],\r\n      popupAnchor: [0, -30],\r\n   })\r\n   L.tileLayer(\r\n      'https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.{ext}',\r\n      {\r\n         minZoom: 0,\r\n         maxZoom: 20,\r\n         attribution:\r\n            '&copy; <a href=\"https://www.stadiamaps.com/\" target=\"_blank\">Stadia Maps</a> &copy; <a href=\"https://openmaptiles.org/\" target=\"_blank\">OpenMapTiles</a> &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\r\n         ext: 'png',\r\n      }\r\n   ).addTo(map)\r\n   L.control\r\n      .zoom({\r\n         position: 'bottomleft',\r\n      })\r\n      .addTo(map)\r\n   let group = L.featureGroup()\r\n\r\n   for (let location of locations) {\r\n      let marker = L.marker(\r\n         [location.coordinates[1], location.coordinates[0]],\r\n         {\r\n            icon: icon,\r\n         }\r\n      )\r\n         .addTo(map)\r\n         .bindPopup(\r\n            L.popup({\r\n               maxWidth: 250,\r\n               minWidth: 100,\r\n               autoClose: false,\r\n               closeOnClick: false,\r\n            }).setContent(`Day ${location.day}: ${location.description}`)\r\n         )\r\n      marker.openPopup()\r\n      group.addLayer(marker)\r\n   }\r\n\r\n   map.fitBounds(group.getBounds(), { padding: [100, 100] })\r\n}\r\n","import axios from 'axios'\r\nimport { showAlert } from './alert'\r\n\r\nexport async function updateData(name, email) {\r\n   try {\r\n      const res = await axios({\r\n         method: 'PATCH',\r\n         url: '/api/v1/users/updateMe',\r\n         data: {\r\n            name,\r\n            email,\r\n         },\r\n      })\r\n      if (res.data.status === 'success') {\r\n         showAlert('success', `Data updated successfully!`)\r\n      }\r\n   } catch (error) {\r\n      showAlert('error', error)\r\n   }\r\n}\r\n\r\nexport const updateSettings = async (data, type) => {\r\n   try {\r\n      const url =\r\n         type === 'password'\r\n            ? '/api/v1/users/update-password'\r\n            : '/api/v1/users/update-me'\r\n      const res = await axios({\r\n         method: 'PATCH',\r\n         url,\r\n         data,\r\n      })\r\n      if (res.data.status === 'success') {\r\n         showAlert('success', `${type.toUpperCase()} updated successfully!`)\r\n      }\r\n   } catch (error) {\r\n      showAlert('error', error)\r\n   }\r\n}\r\n","import axios from 'axios'\r\nimport { showAlert } from './alert'\r\nconst stripe = Stripe(\r\n   'pk_test_51OuQHbHSNc0C8r7cxeNEfdZ8OiAuiJOlM3nKeMk0HZMQYHqBgOqJHcrbseBzSYAG2bmZR8QigWiOVgA3RaGp5Fwo001ls1jc3Y'\r\n)\r\n\r\nexport const bookTour = async tourId => {\r\n   try {\r\n      const session = await axios(`/api/v1/bookings/checkout-session/${tourId}`)\r\n\r\n      await stripe.redirectToCheckout({\r\n         sessionId: session.data.session.id,\r\n      })\r\n   } catch (error) {\r\n      showAlert('error', error)\r\n   }\r\n}\r\n"],"names":["require","$97uIT$axios","$parcel$interopDefault","a","__esModule","default","$5ffba592d2f96c22$export$de026b00723010c1","type","msg","$5ffba592d2f96c22$export$516836c6a9dfc573","markup","document","querySelector","insertAdjacentHTML","window","setTimeout","el","parentElement","removeChild","$ae7cab5b221f05ea$export$596d806903d1f59e","email","password","res","method","url","data","status","location","assign","err","response","message","$ae7cab5b221f05ea$export$a0973bcfe11b05c9","reload","error","$1aa233ef60e9c86a$export$f558026a994b6051","toUpperCase","$02b9e06783db90b5$var$stripe","Stripe","$02b9e06783db90b5$export$8d5bdbf26681c0c2","tourId","session","redirectToCheckout","sessionId","id","$8edeaf384d9f5916$var$loginForm","$8edeaf384d9f5916$var$logoutBtn","$8edeaf384d9f5916$var$userDataForm","$8edeaf384d9f5916$var$passwordForm","$8edeaf384d9f5916$var$bookBtn","getElementById","addEventListener","e","value","preventDefault","$8edeaf384d9f5916$var$map","locations","map","L","zoomControl","dragging","touchZoom","doubleClickZoom","scrollWheelZoom","setView","icon","iconUrl","iconSize","iconAnchor","popupAnchor","tileLayer","minZoom","maxZoom","attribution","ext","addTo","control","zoom","position","group","featureGroup","marker","coordinates","bindPopup","popup","maxWidth","minWidth","autoClose","closeOnClick","setContent","day","description","openPopup","addLayer","fitBounds","getBounds","padding","JSON","parse","dataset","form","FormData","append","files","textContent","passwordCurrent","passwordConfirm","target"],"version":3,"file":"index.js.map","sourceRoot":"../../../"}